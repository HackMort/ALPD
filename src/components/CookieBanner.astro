<div class="cookie">
  <div class="wrapper cookie__content">
    <p class="cookie__text">
      We use cookies to give you the best online experience. By using our
      website, you agree to our use of cookies in accordance with our <a
        target="_blank"
        href="https://alexion.com/Legal#cookie-policy">cookie policy</a
      >.
    </p>
    <button class="cookie__button">
      <span class="line"></span>
      <span class="line"></span>
    </button>
  </div>
</div>

<script>
  const body = document.querySelector("body") as HTMLElement;
  const cookie = document.querySelector(".cookie") as HTMLElement;
  const cookieButton = document.querySelector(".cookie__button") as HTMLElement;

  checkCookie();
  setOffsetOfBody();
  window.addEventListener("resize", setOffsetOfBody);

  cookieButton.addEventListener("click", function (e) {
    hideCookieBanner();
    setCookieConsent();
  });

  function checkCookie() {
    if (localStorage.getItem("cookieConsent") === "true") {
      hideCookieBanner();
    }
  }

  function hideCookieBanner() {
    cookie.classList.add("hidden");
  }

  function setCookieConsent() {
    localStorage.setItem("cookieConsent", "true");
  }

  function setOffsetOfBody() {
    const mediaQuery = window.matchMedia("(min-width: 1024px)");
    if (mediaQuery.matches) {
      if (cookie && !cookie.classList.contains("hidden")) {
        body.style.paddingTop = `${cookie.offsetHeight}px`;
      }
    } else {
      body.style.paddingTop = `0`;
    }
  }
</script>
